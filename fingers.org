#+TITLE: Fingers
#+STARTUP: hideblocks
* Fingers

  #+begin_src emacs-lisp
    (use-package nlinum
      :ensure nlinum
      :init (global-nlinum-mode 1))
    (use-package key-chord
      :ensure key-chord
      :init (key-chord-mode 1)
      :config (setq key-chord-two-keys-delay 0.075))
    (use-package anzu :ensure anzu)
    (use-package multiple-cursors :ensure multiple-cursors)
    (use-package ace-jump-mode
      :config
      (setq ace-jump-mode-scope 'window)
      (setq ace-jump-mode-limit-window-scope 10))

    (defun fingers-mode-visual-toggle ()
      (interactive)
      (let ((faces-to-toggle '(mode-line mode-line-inactive))
            (enabled-color (if terminal-p "gray" "#e8e8e8"))
            (disabled-color (if terminal-p "green" "#a1b56c")))
        (cond (fingers-mode-active
               (mapcar (lambda (face)
                         (set-face-background face enabled-color)
                         (set-face-attribute face nil :height 20))
                       faces-to-toggle))
              (t
               (mapcar (lambda (face)
                         (set-face-background face disabled-color)
                         (set-face-attribute face nil :height (face-attribute 'default :height)))
                       faces-to-toggle)))))

    (add-hook 'fingers-mode-activated-hook 'fingers-mode-visual-toggle)
    (add-hook 'fingers-mode-deactivated-hook 'fingers-mode-visual-toggle)

    (use-package fingers
      :init
      (fingers-mode-activate-globally)
      (key-chord-define-global "oe" 'fingers-mode-toggle-globally)
      (define-key fingers-mode-x-map (kbd "g") 'magit-status)
      (define-key fingers-mode-map (kbd "r") 'anzu-query-replace)
      (define-key fingers-mode-map (kbd "R") 'anzu-query-replace-regexp)
      (define-key fingers-mode-map (kbd "H") 'helm-show-kill-ring)
      (define-key fingers-mode-map (kbd "j") 'helm-apropos)
      (define-key fingers-mode-map (kbd "k") 'ag-project)
      (define-key fingers-mode-map (kbd "K") 'ag)
      (define-key fingers-mode-map (kbd "l") 'ace-jump-mode)
      (define-key fingers-mode-map (kbd "L") 'ace-jump-char-mode)
      (define-key fingers-mode-map (kbd ">") 'helm-occur)
      (define-key fingers-mode-map (kbd ".") 'c/helm-jump)
      (define-key fingers-mode-x-map (kbd "f") 'helm-find-files)
      (define-key fingers-mode-x-map (kbd "x") 'helm-M-x)
      (define-key fingers-mode-x-map (kbd "moc") 'org-capture)
      (define-key fingers-mode-x-map (kbd "moa") 'org-agenda)
      (define-key fingers-mode-x-map (kbd "vd") 'magit-diff)
      (define-key fingers-mode-x-map (kbd "ve") 'vc-version-ediff)
      (define-key fingers-mode-x-map (kbd "vl") 'magit-revision-file-log)
      (define-key fingers-mode-x-map (kbd "vG") 'magit-blame-mode)
      (define-key fingers-mode-map (kbd "|") 'mc/edit-lines)
      )
  #+end_src
